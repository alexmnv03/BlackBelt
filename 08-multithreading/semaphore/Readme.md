# Синхронизация Semaphore

До этого мы сами реалдизовывали механизны синхронизации, но существуют специальные инструменты для этого

> Semaphore - это синхронизатор, позволяющий ограничить доступ к ресурсу. К его конструктор передается колв-во потоков, которым Semaphore будет разрешать одновременно использовать этот ресурс

У него есть счетчик, который увеличивается при каждом подключении к рессурсу нового потока и наоборот.

> Если мы разрешили Semaphore только один поток Semaphore(1) - то это тоже самое, что и использование Lock

Рассмотрим пример
У нас есть два телефона и пять чел которые хотят позвонить

acquire - блокирует поток, пока ресур не будет доступен и после доступности, мы получаем на разрешение использовать этот ресурс и счетчик семафоров уменьшается на 1
Обязательно в блоке finally вызываем  release(); который уменьшает счетчик на 1, в finally на тот случаей если поток прервется, чтобы мы осовбодили ресурс для другого потока