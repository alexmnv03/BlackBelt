# ThreadPool And ExecuterService

## ExecuterService
Очень часто нам приходитсья создавать 2 и более потоков.
Создание потока очень затратная операция, на это уходит не малов времени и на это уходит сного процессов в JVM and OS
И тут нам на помощь приходит механизм ThreadPool

> ThreadPool - это множество потоков, каждый из которых предназначяен для выполгнения той или иной задачи
ThreadPool более эффективен для работы с множеством потоков

Как это работает 
 мы на вход поставлем несколько заданий, а уже внутри ThreadPool сам ими управляет и решает когда и в каком порядке их запускать.

 В Java c ThreadPool работают посредством интерфейса ExecuterService

>ThreadPool обычно создают используя фактори методы класса Executors, аргумент которого сообщает о том сколько потоков бужет в нашем ThreadPool

Есть еще метод SingleExecuter для создания одного потока

После выполнения метода shutdown ExecuterService понимает, что онвых заданий уже не будет и выполнив поступившие до этого задания прекращает работу

метод awaitTermination вызывается после shutdown и он заставляет поток, в котором он вызван ожидать завершения ExecuterService.
В нашем примере метод main будет ждать завершения всей работы ExecuterService или пока не истечет указанное время. Мы видим, что сообщение "End Main" теперь появляется не в середине, а в конце списка.

А теперь рассмотрим как работает метод newSingleThreadExecutor (см. ThreadPoolTwoTest)
мы видим, что все задания выполняются только в одном потоке

## SheduledExecuterService

Когда нам необходимо запускать потоки в ThreadPool по рассписанию нам поможет в этом SheduledExecuterService

Особенность newCachedThreadPool - он сам будет создавать потоки по мере надобности.
Например, у нас есть три задания, будет создано три потока, появились еще задания будет создано еще больше потоков, а по мере выполнения заданий они будут удаляться.